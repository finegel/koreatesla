<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>í…ŒìŠ¬ë¼ í•œêµ­ ì‹¤êµ¬ë§¤ê°€ ê³„ì‚°ê¸° (ì˜µì…˜ ì •í™• ë°˜ì˜)</title>
<meta name="description" content="í…ŒìŠ¬ë¼ Model 3/Model Y í•œêµ­ ì‹¤êµ¬ë§¤ê°€ ê³„ì‚°ê¸°. ì˜µì…˜ ê°€ê²©ì„ ëª¨ë¸ë³„ë¡œ ë¶„ë¦¬ ë°˜ì˜í•˜ê³  ë³´ì¡°ê¸ˆì€ ì§€ì—­+íŠ¸ë¦¼ë³„ë¡œ ì €ì¥í•´ ìë™ ì…ë ¥í•©ë‹ˆë‹¤." />

<style>
  body { font-family: Arial, sans-serif; background:#f5f6fa; padding:20px; }
  .container { max-width:980px; margin:auto; background:#fff; padding:22px; border-radius:12px; box-shadow:0 0 15px rgba(0,0,0,.08); }
  h1 { text-align:center; margin:0 0 10px; }
  .hint { font-size:13px; color:#555; background:#fafbff; border:1px solid #eee; padding:10px 12px; border-radius:10px; }
  .row { display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
  @media (max-width: 860px) { .row { grid-template-columns: 1fr; } }
  label { display:block; margin-top:14px; font-weight:bold; }
  select,input,button { width:100%; padding:10px; margin-top:6px; border-radius:8px; border:1px solid #ddd; }
  button { background:#000; color:#fff; border:none; cursor:pointer; }
  .btnRow { display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:14px; }
  .result { margin-top:16px; padding:14px; background:#eef2f7; border-radius:10px; line-height:1.65; }
  .small { font-size:12px; color:#666; margin-top:6px; }
  .warn { color:#b00020; font-weight:bold; }
  .ok { color:#0a7a2f; font-weight:bold; }
  .optBox { border:1px solid #eee; border-radius:10px; padding:10px 12px; background:#fff; }
  .optRow { display:flex; gap:10px; align-items:flex-start; margin:8px 0; }
  .optRow input[type="checkbox"]{ width:auto; margin-top:4px; }
  .optRow .optText { flex:1; }
  .pill { display:inline-block; padding:2px 8px; border-radius:999px; background:#f1f3f7; font-size:12px; margin-left:6px; }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace; font-size:12px; }
  a { color:#1d4ed8; }
</style>
</head>

<body>
<div class="container">
  <h1>ğŸ‡°ğŸ‡· í…ŒìŠ¬ë¼ ì‹¤êµ¬ë§¤ê°€ ê³„ì‚°ê¸°</h1>

  <div class="hint">
    âœ… ì˜µì…˜ ê°€ê²©ì€ â€œëª¨ë¸/íŠ¸ë¦¼ë³„ë¡œ ë‹¤ë¦„â€ â†’ í˜„ì¬ ë²„ì „ì€ ëª¨ë¸ë³„ ì˜µì…˜ ê°€ê²©ì„ ë¶„ë¦¬ ë°˜ì˜í•¨.<br>
    âœ… ë³´ì¡°ê¸ˆì€ ì§€ì—­(ì‹œ/êµ°/êµ¬) + íŠ¸ë¦¼ ì¡°í•©ìœ¼ë¡œ <b>í•œ ë²ˆ ì €ì¥í•˜ë©´</b> ë‹¤ìŒë¶€í„° ìë™ ì…ë ¥.<br>
    <div class="small">
      ì˜µì…˜ ê°€ê²© ê·¼ê±°: ë‹¤ë‚˜ì™€(ëª¨ë¸3/ëª¨ë¸Y ì˜µì…˜í‘œ) :contentReference[oaicite:3]{index=3} / FSD ê°€ê²© ë³´ë„ :contentReference[oaicite:4]{index=4}
    </div>
  </div>

  <div class="row">
    <div>
      <label>ëª¨ë¸/íŠ¸ë¦¼</label>
      <select id="trim">
        <option value="M3_STD">Model 3 Standard RWD</option>
        <option value="M3_LR">Model 3 Long Range RWD</option>
        <option value="M3_PERF">Model 3 Performance</option>
        <option value="MY_RWD">Model Y Premium RWD</option>
        <option value="MY_LR">Model Y Long Range AWD</option>
      </select>

      <label>ì°¨ëŸ‰ ê¸°ë³¸ê°€ (ì›) <span class="pill">ì´ˆê¸°ê°’</span></label>
      <input type="number" id="basePrice" />
      <div class="small">â€» ì‹¤ì œ ê²°ì œê°€ëŠ” í”„ë¡œëª¨ì…˜/ì˜µì…˜/ì¬ê³ ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´.</div>

      <label>ì¬ê³ /ì¸ë²¤í† ë¦¬ í• ì¸ (ì›) <span class="pill">ì„ íƒ</span></label>
      <input type="number" id="inventoryDiscount" placeholder="ì˜ˆ: 2000000 (2,000,000ì› í• ì¸)" />

      <label>ì·¨ë“ì„¸ ê°ë©´ ì ìš©</label>
      <select id="taxOption">
        <option value="true">ê°ë©´ ì ìš©</option>
        <option value="false">ê°ë©´ ë¯¸ì ìš©</option>
      </select>

      <label>ì·¨ë“ì„¸ ê°ë©´ì•¡ (ì›)</label>
      <input type="number" id="taxRelief" value="1400000" />

      <div class="small">
        ì°¸ê³ (ì˜µì…˜ ê°€ê²©í‘œ í™•ì¸):<br>
        - Model 3 ì˜µì…˜í‘œ(ë‹¤ë‚˜ì™€) :contentReference[oaicite:5]{index=5}<br>
        - Model Y ì˜µì…˜í‘œ(ë‹¤ë‚˜ì™€) :contentReference[oaicite:6]{index=6}
      </div>
    </div>

    <div>
      <label>ì˜µì…˜ ì„ íƒ (íŠ¸ë¦¼ì— ë”°ë¼ ìë™ ë³€ê²½) <span class="pill">ì •í™• ë°˜ì˜</span></label>
      <div class="optBox" id="optionsBox"></div>
      <div class="small" id="optNote"></div>

      <label>ê±°ì£¼ì§€ (ì‹œ/êµ°/êµ¬)</label>
      <input id="region" list="regionList" placeholder="ì˜ˆ: ì°½ì›ì‹œ ë§ˆì‚°í•©í¬êµ¬ / ìˆ˜ì›ì‹œ / ì²­ì£¼ì‹œ" />
      <datalist id="regionList"></datalist>

      <label>ë³´ì¡°ê¸ˆ í•©ê³„ (êµ­ë¹„+ì§€ë°©ë¹„, ì›)</label>
      <input type="number" id="subsidy" placeholder="ê³µì‹(ev.or.kr)ì—ì„œ í™•ì¸í•œ í•©ê³„ ì…ë ¥" />

      <div class="btnRow">
        <button id="saveSubsidyBtn" style="background:#1f2937;">ë³´ì¡°ê¸ˆ ì €ì¥(ì´ ì§€ì—­/íŠ¸ë¦¼)</button>
        <button id="calcBtn">ì‹¤êµ¬ë§¤ê°€ ê³„ì‚°</button>
      </div>

      <button id="copyBtn" style="background:#2b2f38; margin-top:10px;">ê²°ê³¼ ë³µì‚¬</button>
      <button id="clearCacheBtn" style="background:#6b7280; margin-top:10px;">ì €ì¥ëœ ë³´ì¡°ê¸ˆ ì´ˆê¸°í™”</button>

      <div class="small mono" id="meta"></div>
    </div>
  </div>

  <div class="result" id="result">ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</div>
</div>

<script>
/** =========================
 * 1) ê¸°ë³¸ê°€(ì´ˆê¸°ê°’): ë„ˆê°€ ë‚˜ì¤‘ì— ê³µì‹ ê°€ê²©ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ê°€ëŠ¥
 * ========================= */
const PRICE_PRESET = {
  M3_STD: 41990000,
  M3_LR: 52990000,
  M3_PERF: 59990000,
  MY_RWD: 49990000,
  MY_LR: 59990000
};

/** =========================
 * 2) ì˜µì…˜: ëª¨ë¸/íŠ¸ë¦¼ë³„ ë¶„ë¦¬ (ê·¼ê±° í¬í•¨)
 * - Model 3: 19" ìŠ¤í¬ì¸ íœ  1,929,000 / ë¸”ë™&í™”ì´íŠ¸ ì¸í…Œë¦¬ì–´ 1,286,000 :contentReference[oaicite:7]{index=7}
 * - Model Y: 20" ì¸ë•ì…˜íœ  2,571,000 / ë¸”ë™&í™”ì´íŠ¸ ì¸í…Œë¦¬ì–´ 1,286,000 / í–¥ìƒëœ ì˜¤í† íŒŒì¼ëŸ¿ 4,522,000 :contentReference[oaicite:8]{index=8}
 * - FSD: 9,043,000 :contentReference[oaicite:9]{index=9}
 * ========================= */
const OPTIONS_BY_TRIM = {
  // Model 3 ê³„ì—´(íŠ¸ë¦¼ ê°„ ì˜µì…˜ êµ¬ì„±ì€ ë™ì¼ë¡œ ë‘ë˜, ë‚˜ì¤‘ì— â€œíŠ¸ë¦¼ í¬í•¨ì˜µì…˜â€ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥)
  M3_STD: [
    { id:"m3_wheels_19", label:"19ì¸ì¹˜ ìŠ¤í¬ì¸  íœ ", amount:1929000, source:"danawa" },
    { id:"m3_interior_bw", label:"ë¸”ë™&í™”ì´íŠ¸ ì¸í…Œë¦¬ì–´", amount:1286000, source:"danawa" },
    { id:"fsd", label:"FSD(Full Self-Driving)", amount:9043000, source:"news" }
  ],
  M3_LR: [
    { id:"m3_wheels_19", label:"19ì¸ì¹˜ ìŠ¤í¬ì¸  íœ ", amount:1929000, source:"danawa" },
    { id:"m3_interior_bw", label:"ë¸”ë™&í™”ì´íŠ¸ ì¸í…Œë¦¬ì–´", amount:1286000, source:"danawa" },
    { id:"fsd", label:"FSD(Full Self-Driving)", amount:9043000, source:"news" }
  ],
  M3_PERF: [
    { id:"m3_wheels_19", label:"19ì¸ì¹˜ ìŠ¤í¬ì¸  íœ ", amount:1929000, source:"danawa" },
    { id:"m3_interior_bw", label:"ë¸”ë™&í™”ì´íŠ¸ ì¸í…Œë¦¬ì–´", amount:1286000, source:"danawa" },
    { id:"fsd", label:"FSD(Full Self-Driving)", amount:9043000, source:"news" }
  ],

  // Model Y ê³„ì—´
  MY_RWD: [
    { id:"my_wheels_20", label:"20ì¸ì¹˜ ì¸ë•ì…˜ íœ ", amount:2571000, source:"danawa" },
    { id:"my_interior_bw", label:"ë¸”ë™&í™”ì´íŠ¸ ì¸í…Œë¦¬ì–´", amount:1286000, source:"danawa" },
    { id:"eap", label:"í–¥ìƒëœ ì˜¤í† íŒŒì¼ëŸ¿", amount:4522000, source:"danawa" },
    { id:"fsd", label:"FSD(Full Self-Driving)", amount:9043000, source:"news" }
  ],
  MY_LR: [
    { id:"my_wheels_20", label:"20ì¸ì¹˜ ì¸ë•ì…˜ íœ ", amount:2571000, source:"danawa" },
    { id:"my_interior_bw", label:"ë¸”ë™&í™”ì´íŠ¸ ì¸í…Œë¦¬ì–´", amount:1286000, source:"danawa" },
    { id:"eap", label:"í–¥ìƒëœ ì˜¤í† íŒŒì¼ëŸ¿", amount:4522000, source:"danawa" },
    { id:"fsd", label:"FSD(Full Self-Driving)", amount:9043000, source:"news" }
  ]
};

// ì§€ì—­ ìë™ì™„ì„±(í•„ìš”í•˜ë©´ ëŠ˜ë ¤ë„ ë¨)
const REGION_SUGGESTIONS = [
  "ì°½ì›ì‹œ ë§ˆì‚°í•©í¬êµ¬","ì°½ì›ì‹œ ë§ˆì‚°íšŒì›êµ¬","ì°½ì›ì‹œ ì„±ì‚°êµ¬","ì°½ì›ì‹œ ì˜ì°½êµ¬","ì°½ì›ì‹œ ì§„í•´êµ¬","ì°½ì›ì‹œ",
  "ê¹€í•´ì‹œ","ì§„ì£¼ì‹œ","ì–‘ì‚°ì‹œ","ê±°ì œì‹œ",
  "ìˆ˜ì›ì‹œ","ì„±ë‚¨ì‹œ","ìš©ì¸ì‹œ","í™”ì„±ì‹œ","ê³ ì–‘ì‹œ","ì²­ì£¼ì‹œ","ì²œì•ˆì‹œ","ì „ì£¼ì‹œ","í¬í•­ì‹œ",
  "ì„œìš¸íŠ¹ë³„ì‹œ","ë¶€ì‚°ê´‘ì—­ì‹œ","ëŒ€êµ¬ê´‘ì—­ì‹œ","ì¸ì²œê´‘ì—­ì‹œ","ê´‘ì£¼ê´‘ì—­ì‹œ","ëŒ€ì „ê´‘ì—­ì‹œ","ìš¸ì‚°ê´‘ì—­ì‹œ","ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ"
];

const STORAGE_KEY = "tesla_calc_v6_state";
const SUBSIDY_KEY = "tesla_calc_v6_subsidy_map";

/** ===== ìœ í‹¸ ===== */
function el(id){ return document.getElementById(id); }
function toInt(v){ return parseInt(v || "0", 10) || 0; }
function won(n){ return Math.round(n).toLocaleString("ko-KR") + " ì›"; }

function subsidyMapLoad(){ try { return JSON.parse(localStorage.getItem(SUBSIDY_KEY) || "{}"); } catch(e){ return {}; } }
function subsidyMapSave(map){ localStorage.setItem(SUBSIDY_KEY, JSON.stringify(map)); }
function subsidyKey(region, trim){ return (region || "").trim() + "||" + trim; }

function renderRegionDatalist(){
  const dl = el("regionList");
  dl.innerHTML = "";
  for (const name of REGION_SUGGESTIONS) {
    const opt = document.createElement("option");
    opt.value = name;
    dl.appendChild(opt);
  }
}

function renderOptionsForTrim(trim){
  const list = OPTIONS_BY_TRIM[trim] || [];
  const box = el("optionsBox");
  box.innerHTML = "";

  for (const o of list) {
    const row = document.createElement("div");
    row.className = "optRow";
    row.innerHTML = `
      <input type="checkbox" id="opt_${o.id}">
      <div class="optText">
        <div><b>${o.label}</b> <span class="pill">${won(o.amount)}</span></div>
      </div>`;
    box.appendChild(row);
    row.querySelector("input").addEventListener("change", saveState);
  }

  // ì˜µì…˜ ê·¼ê±° ë…¸íŠ¸(ì§§ê²Œ)
  if (trim.startsWith("M3")) {
    el("optNote").innerHTML = `Model 3 ì˜µì…˜ ê°€ê²© ê·¼ê±°: ë‹¤ë‚˜ì™€ ì˜µì…˜í‘œ(íœ /ì¸í…Œë¦¬ì–´) :contentReference[oaicite:10]{index=10}, FSD ê°€ê²© ë³´ë„ :contentReference[oaicite:11]{index=11}`;
  } else {
    el("optNote").innerHTML = `Model Y ì˜µì…˜ ê°€ê²© ê·¼ê±°: ë‹¤ë‚˜ì™€ ì˜µì…˜í‘œ(íœ /ì¸í…Œë¦¬ì–´/EAP/FSD) :contentReference[oaicite:12]{index=12}`;
  }
}

function optionsSum(){
  const trim = el("trim").value;
  const list = OPTIONS_BY_TRIM[trim] || [];
  let sum = 0;
  for (const o of list) {
    const cb = document.getElementById("opt_" + o.id);
    if (cb && cb.checked) sum += o.amount;
  }
  return sum;
}

/** ===== ìƒíƒœ ì €ì¥/ë³µì› ===== */
function saveState(){
  const trim = el("trim").value;
  const list = OPTIONS_BY_TRIM[trim] || [];
  const checked = list.filter(o => document.getElementById("opt_"+o.id)?.checked).map(o => o.id);

  const state = {
    trim,
    basePrice: el("basePrice").value,
    inventoryDiscount: el("inventoryDiscount").value,
    taxOption: el("taxOption").value,
    taxRelief: el("taxRelief").value,
    region: el("region").value,
    subsidy: el("subsidy").value,
    checked
  };
  localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
}

function loadState(){
  try {
    const s = JSON.parse(localStorage.getItem(STORAGE_KEY) || "null");
    if (!s) return;
    if (s.trim) el("trim").value = s.trim;
    // ë¨¼ì € ì˜µì…˜ UI ë Œë”
    renderOptionsForTrim(el("trim").value);

    if (s.basePrice) el("basePrice").value = s.basePrice;
    if (s.inventoryDiscount) el("inventoryDiscount").value = s.inventoryDiscount;
    if (s.taxOption) el("taxOption").value = s.taxOption;
    if (s.taxRelief) el("taxRelief").value = s.taxRelief;
    if (s.region) el("region").value = s.region;
    if (s.subsidy) el("subsidy").value = s.subsidy;

    // ì²´í¬ ë³µì›(í˜„ì¬ trim ê¸°ì¤€)
    if (Array.isArray(s.checked)) {
      for (const id of s.checked) {
        const cb = document.getElementById("opt_"+id);
        if (cb) cb.checked = true;
      }
    }
  } catch(e){}
}

function applyPreset(){
  const trim = el("trim").value;
  const base = el("basePrice");
  const cur = toInt(base.value);
  const presetValues = Object.values(PRICE_PRESET);
  if (!cur || presetValues.includes(cur)) base.value = PRICE_PRESET[trim] || "";

  renderOptionsForTrim(trim);
  autoFillSubsidyFromCache();
  saveState();
}

/** ===== ë³´ì¡°ê¸ˆ ìºì‹œ ===== */
function autoFillSubsidyFromCache(){
  const region = (el("region").value || "").trim();
  const trim = el("trim").value;
  if (!region) return;
  const map = subsidyMapLoad();
  const k = subsidyKey(region, trim);
  if (map[k] != null) {
    el("subsidy").value = map[k];
    el("meta").textContent = `âœ… ì €ì¥ëœ ë³´ì¡°ê¸ˆ ìë™ì…ë ¥: ${region} / ${trim}`;
  } else {
    el("meta").textContent = `â„¹ï¸ ì €ì¥ëœ ë³´ì¡°ê¸ˆ ì—†ìŒ: ${region} / ${trim} (í•œ ë²ˆ ì €ì¥í•˜ë©´ ìë™ ì…ë ¥)`;
  }
}

function saveSubsidy(){
  const region = (el("region").value || "").trim();
  const trim = el("trim").value;
  const subsidy = toInt(el("subsidy").value);

  if (!region) { el("result").innerHTML = `<span class="warn">ì§€ì—­ì„ ë¨¼ì € ì…ë ¥/ì„ íƒí•´ì¤˜.</span>`; return; }
  if (!subsidy) { el("result").innerHTML = `<span class="warn">ë³´ì¡°ê¸ˆ(ì›)ì„ ì…ë ¥í•´ì¤˜. (êµ­ë¹„+ì§€ë°©ë¹„ í•©ê³„)</span>`; return; }

  const map = subsidyMapLoad();
  map[subsidyKey(region, trim)] = subsidy;
  subsidyMapSave(map);

  el("meta").textContent = `âœ… ë³´ì¡°ê¸ˆ ì €ì¥ ì™„ë£Œ: ${region} / ${trim} = ${won(subsidy)}`;
  el("result").innerHTML = `âœ… ì €ì¥ë¨: <b>${region}</b> / <b>${trim}</b> ë³´ì¡°ê¸ˆ = <b>${won(subsidy)}</b><br>ì´ì œë¶€í„° ê°™ì€ ì§€ì—­/íŠ¸ë¦¼ì€ ìë™ìœ¼ë¡œ ì±„ì›Œì§.`;
}

function calc(){
  saveState();

  const trim = el("trim").value;
  const basePrice = toInt(el("basePrice").value);
  const discount = toInt(el("inventoryDiscount").value);
  const region = (el("region").value || "").trim();

  autoFillSubsidyFromCache();
  const subsidy = toInt(el("subsidy").value);

  const taxOption = el("taxOption").value === "true";
  const taxRelief = toInt(el("taxRelief").value);

  const optSum = optionsSum();

  if (!basePrice) { el("result").innerHTML = `<span class="warn">ì°¨ëŸ‰ ê¸°ë³¸ê°€ê°€ ë¹„ì–´ìˆì–´.</span>`; return; }
  if (!region) { el("result").innerHTML = `<span class="warn">ì§€ì—­ì„ ì…ë ¥/ì„ íƒí•´ì¤˜.</span>`; return; }
  if (!subsidy) {
    el("result").innerHTML =
      `<span class="warn">ì´ ì§€ì—­/íŠ¸ë¦¼ ë³´ì¡°ê¸ˆì´ ì•„ì§ ì €ì¥/ì…ë ¥ë˜ì§€ ì•Šì•˜ì–´.</span><br>
       ê³µì‹(ev.or.kr)ì—ì„œ <b>êµ­ë¹„+ì§€ë°©ë¹„ í•©ê³„</b> í™•ì¸ â†’ ì…ë ¥ â†’ <b>[ë³´ì¡°ê¸ˆ ì €ì¥]</b> ëˆŒëŸ¬ì¤˜.`;
    return;
  }

  const vehiclePrice = Math.max(0, basePrice + optSum - discount);

  let tax = vehiclePrice * 0.07; // ë‹¨ìˆœ ì¶”ì • ëª¨ë¸
  if (taxOption) tax = Math.max(0, tax - taxRelief);

  const finalPrice = vehiclePrice - subsidy + tax;

  const lines = [
    `âœ… íŠ¸ë¦¼: <b>${trim}</b>`,
    `ê±°ì£¼ì§€: <b>${region}</b>`,
    `ê¸°ë³¸ê°€: ${won(basePrice)}`,
    `ì˜µì…˜ í•©ê³„(íŠ¸ë¦¼ë³„): ${won(optSum)}`,
    `ì¬ê³  í• ì¸: -${won(discount)}`,
    `<hr>`,
    `ì°¨ëŸ‰ê°€(ì˜µì…˜-í• ì¸ ë°˜ì˜): <b>${won(vehiclePrice)}</b>`,
    `ë³´ì¡°ê¸ˆ(ì´ì•¡): <b>-${won(subsidy)}</b>`,
    `ì·¨ë“ì„¸(ì¶”ì •): <b>${won(tax)}</b>`,
    `<hr>`,
    `ğŸ¯ ìµœì¢… ì‹¤êµ¬ë§¤ê°€(ì¶”ì •): <span class="ok">${won(finalPrice)}</span>`
  ];
  el("result").innerHTML = lines.join("<br>");
  el("meta").textContent = `ê³„ì‚° ì‹œê°: ${new Date().toLocaleString("ko-KR")}`;
}

async function copyResult(){
  const text = el("result").innerText.trim();
  try { await navigator.clipboard.writeText(text); alert("ë³µì‚¬ ì™„ë£Œ!"); }
  catch(e){ alert("ë³µì‚¬ ì‹¤íŒ¨. ê²°ê³¼ë¥¼ ë“œë˜ê·¸í•´ì„œ ë³µì‚¬í•´ì¤˜!"); }
}

function clearCache(){
  localStorage.removeItem(SUBSIDY_KEY);
  el("meta").textContent = "ì €ì¥ëœ ë³´ì¡°ê¸ˆ ìºì‹œë¥¼ ì´ˆê¸°í™”í–ˆì–´.";
  el("result").innerHTML = "ì €ì¥ëœ ë³´ì¡°ê¸ˆì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.";
}

/** init */
renderRegionDatalist();
renderOptionsForTrim(el("trim").value);
loadState();
applyPreset();

el("trim").addEventListener("change", applyPreset);
el("region").addEventListener("change", () => { autoFillSubsidyFromCache(); saveState(); });

el("saveSubsidyBtn").addEventListener("click", saveSubsidy);
el("calcBtn").addEventListener("click", calc);
el("copyBtn").addEventListener("click", copyResult);
el("clearCacheBtn").addEventListener("click", clearCache);
</script>
</body>
</html>
